<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="alz.board.mapper.CommentMapper">

	<select id="selectAll" resultType="alz.board.domain.CommentDTO">
		select id, parent_id parentId, content, written_at writtenAt, updated_at updatedAt, like_cnt likeCnt,
				comment_cnt commentCnt, comment_code commentCode, board_id boardId, writer_id writerId
		from alz_comment
		where board_id = #{id}
		order by comment_code
	</select>

	<insert id="insert">
		insert into alz_comment (id, parent_id, content, comment_cnt, comment_code, board_id, writer_id)
		values (alz_comment_seq.nextval, #{parentId}, #{content}, #{commentCnt}, #{commentCode}, #{boardId}, #{writerId})
	</insert>

</mapper>